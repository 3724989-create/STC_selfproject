C251 COMPILER V5.60.0,  LQ_WDT                                                             18/11/25  13:07:52  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE LQ_WDT
OBJECT MODULE PLACED IN .\out_file\LQ_WDT.obj
COMPILER INVOKED BY: D:\MDK\C251\BIN\C251.EXE ..\lq_libraries\LQ_LIB\Src\LQ_WDT.c LARGE NOALIAS FLOAT64 WARNINGLEVEL(3) 
                    -OPTIMIZE(SIZE) BROWSE INCDIR(..\..\libraries\zf_common;..\..\libraries\zf_components;..\..\libraries\zf_device;..\..\lib
                    -raries\zf_driver;..\user;..\code;..\Hardware;..\lq_libraries\LQ_LIB\Inc;..\lq_libraries\Include;..\lq_libraries\Driver\I
                    -nc) DEBUG PRINT(.\out_file\LQ_WDT.lst) OBJECT(.\out_file\LQ_WDT.obj) 

stmt  level    source

    1          /*LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
    2           ¡¾Æ½    Ì¨¡¿±±¾©ÁúÇñÖÇÄÜ¿Æ¼¼STC32Î»ºËÐÄ°å
    3           ¡¾±à    Ð´¡¿ÁúÇñ¿Æ¼¼
    4           ¡¾E-mail  ¡¿chiusir@163.com
    5           ¡¾Èí¼þ°æ±¾¡¿V1.0 °æÈ¨ËùÓÐ£¬µ¥Î»Ê¹ÓÃÇëÏÈÁªÏµÊÚÈ¨
    6           ¡¾Ïà¹ØÐÅÏ¢²Î¿¼ÏÂÁÐµØÖ·¡¿
    7           ¡¾Íø    Õ¾¡¿http://www.lqist.cn
    8           ¡¾ÌÔ±¦µêÆÌ¡¿http://longqiu.taobao.com
    9           --------------------------------------------------------------------------------
   10           ¡¾  IDE  ¡¿ keil C251 V5.60
   11           ¡¾Target ¡¿ STC32G/STC8051U/AI8051U 32Î»Ä£Ê½
   12           ¡¾SYS CLK¡¿ 42 MHzÊ¹ÓÃÄÚ²¿¾§Õñ
   13          QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ*/
   14          
   15          #include "include.h"
   16          
   17          /****************************************************************************************
   18           * º¯Êý: WDT_Init
   19           * ÃèÊö: ÓÃ»§³õÊ¼»¯³ÌÐò.
   20           * ²ÎÊý: WDT_SCALE_s 0µ½7
   21           * ·µ»Ø: None.
   22           * °æ±¾: V1.0, 2024-10-28
   23           * Ê±¼ä¼ÆËã£º WDT_Timeout=(12*32768*SCALE)/SYSclk
   24           *      ÆäÖÐSCALE£¬¸ø³ö8¸ö¿ÉÑ¡Öµ£¬Îª 2^(1+WDT_SCALE_s)
   25           *      ÈôWDT_SCALE_256£¬ÔòWDT_Timeout=12*32768*256/35000000=2.876094171428571  Ô¼2.88s
   26           *===================================================================================
   27           * WDT_PS£º¿´ÃÅ¹·¶¨Ê±Æ÷Ê±ÖÓ·ÖÆµÏµÊýÒ»ÏÂ¶ÔÓ¦0µ½7
   28           *      ·ÖÆµÏµÊý²ÎÊý    ·ÖÆµÏµÊý   42MHzÏÂÊ±¼ä       ÆäËûÆµÂÊÏÂµÄÊ±¼ä×Ô¸ù¾Ý¹«Ê½¼ÆËã
   29           *      WDT_SCALE_2,       0         Ô¼0.018 s  
   30           *      WDT_SCALE_4,       1         Ô¼0.037 s
   31           *      WDT_SCALE_8,       2         Ô¼0.075 s
   32           *      WDT_SCALE_16,      3         Ô¼0.150 s
   33           *      WDT_SCALE_32,      4         Ô¼0.300 s
   34           *      WDT_SCALE_64,      5         Ô¼0.599 s
   35           *      WDT_SCALE_128,     6         Ô¼1.198 s
   36           *      WDT_SCALE_256      7         Ô¼2.397 s
   37           ***************************************************************************************/
   38          void WDT_Init(WDT_PS_SCALE WDT_SCALE_s)
   39          {
   40   1              WDT_InitTypeDef WDT_InitStructure;                                      //¿´ÃÅ¹· ½á¹¹¶¨Òå
   41   1      
   42   1              WDT_InitStructure.WDT_Enable     = ENABLE;                      //ÖÐ¶ÏÊ¹ÄÜ   ENABLE»òDISABLE
   43   1              WDT_InitStructure.WDT_IDLE_Mode  = WDT_IDLE_STOP;       //IDLEÄ£Ê½ÊÇ·ñÍ£Ö¹¼ÆÊý          WDT_IDLE_STOP,WDT_IDLE_RUN
   44   1              WDT_InitStructure.WDT_PS         = WDT_SCALE_s;     //¿´ÃÅ¹·¶¨Ê±Æ÷Ê±ÖÓ·ÖÆµÏµÊý 0~7
   45   1              WDT_Inilize(&WDT_InitStructure);                                        //³õÊ¼»¯
   46   1      
   47   1              RSTFLAG |= 0x04;   //¸´Î»¼Ä´æÆ÷RSTFLAG£¬ÉèÖÃ¿´ÃÅ¹·¸´Î»ÐèÒª¼ì²âP3.2µÄ×´Ì¬£¬·ñÔò¿´ÃÅ¹·¸´Î»ºó¿ÉÄÜ½øÈëUSBÏÂÔ
             -ØÄ£Ê½
   48   1      }
   49          
   50          
   51          /***************************************************************************************
   52           * º¯Êý: Test_Sample_WDT(void)
   53           * ÃèÊö: ¼òµ¥¿´ÃÅ¹·²âÊÔ
   54           * ²ÎÊý: None.
   55           * ·µ»Ø: None.
C251 COMPILER V5.60.0,  LQ_WDT                                                             18/11/25  13:07:52  PAGE 2   

   56           * °æ±¾: V1.0, 2024-10-28
   57           *
   58           *----------------------  ¹¦ÄÜËµÃ÷  ------------------------------------------
   59           * ²âÊÔ¿´ÃÅ¿Ú³¬Ê±¸´Î»¹¦ÄÜ£¬¸´Î»ºóLED0³õÊ¼»¯Íê³Éºó ÉÁË¸5´Î
   60           * Õý³£Çé¿öÏÂ£¬³õÊ¼»¯ºóÖ÷Ñ­»·ÖÐÔÚÉèÖÃµÄÊ±¼äÄÚÎ¹¹·£¬³ÌÐò²»»á¸´Î»Ò²¾Í¿´²»µ½Á¬Ðø5´ÎµÄÉÁË¸
   61           * Èô½«Ö÷Ñ­»·ÖÐµÄÑÓÊ±£¬ÐÞ¸ÄÎª³¬¹ý¿´ÃÅ¹·ÉèÖÃµÄ¸´Î»Ê±¼ä£¬Ôò»á´¥·¢¿´ÃÅ¹·¸´Î»
   62           *
   63           ***************************************************************************************/
   64          void Test_Sample_WDT(void)
   65          {
   66   1          u8 i= 0;
   67   1          GPIO_LED_Init();
   68   1          WDT_Init(WDT_SCALE_32);    //·ÖÆµÏµÊý²ÎÊý£¬Ê±¼äÔ¼300ms
   69   1      
   70   1      // ³õÊ¼»¯ÍêºóLED1 ÉÁË¸£¬±íÊ¾³ÌÐò¸´Î»³õÊ¼»¯ÁË
   71   1      
   72   1          for(i=0;i<10;i++)       //¸´Î»ºóÖ´ÐÐLED¿ìÉÁ
   73   1          {
   74   2              LED_Ctrl(LED0,RVS);
   75   2              delay_ms(80);
   76   2              Feeding_Dog();
   77   2          }
   78   1      
   79   1          LED_Ctrl(LED0,OFF);     //³õÊ¼»¯Íê³Éºó¹Ø±ÕLED1
   80   1      
   81   1      
   82   1          while(1)
   83   1          {
   84   2              Feeding_Dog();      //Î¹¹·£¬¼´Çå³ý¿´ÃÅ¹·¶¨Ê±Æ÷µ±Ç°¼ÆÊýÖµ£¬Ê¹ÆäÖØÐÂ¿ªÊ¼¼ÆÊý
   85   2              delay_ms(315);      //ÑÓÊ±³¬¹ý300ms,Ôò»á´¥·¢¿´ÃÅ¹· ¸´Î»£¬
   86   2                      LED_Ctrl(LED0,RVS);
   87   2          }
   88   1      }
   89          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       113     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------          3
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
