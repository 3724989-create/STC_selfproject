C251 COMPILER V5.60.0,  AI8051U_LCM                                                        18/11/25  13:07:44  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE AI8051U_LCM
OBJECT MODULE PLACED IN .\out_file\AI8051U_LCM.obj
COMPILER INVOKED BY: D:\MDK\C251\BIN\C251.EXE ..\lq_libraries\Driver\Src\AI8051U_LCM.c LARGE NOALIAS FLOAT64 WARNINGLEVE
                    -L(3) OPTIMIZE(SIZE) BROWSE INCDIR(..\..\libraries\zf_common;..\..\libraries\zf_components;..\..\libraries\zf_device;..\.
                    -.\libraries\zf_driver;..\user;..\code;..\Hardware;..\lq_libraries\LQ_LIB\Inc;..\lq_libraries\Include;..\lq_libraries\Dri
                    -ver\Inc) DEBUG PRINT(.\out_file\AI8051U_LCM.lst) OBJECT(.\out_file\AI8051U_LCM.obj) 

stmt  level    source

    1          /*---------------------------------------------------------------------*/
    2          /* ------------------- Web: www.STCAI.com -----------------------------*/
    3          /*---------------------------------------------------------------------*/
    4          
    5          #include "AI8051U_LCM.h"
    6          
    7          //========================================================================
    8          // 函数: void LCM_Inilize(LCM_InitTypeDef *LCM)
    9          // 描述: LCM 初始化程序.
   10          // 参数: LCM: 结构参数,请参考LCM.h里的定义.
   11          // 返回: none.
   12          // 版本: V1.0, 2021-06-02
   13          //========================================================================
   14          void LCM_Inilize(LCM_InitTypeDef *LCM)
   15          {
   16   1              LCMIFSTA = 0x00;
   17   1              if (LCM->LCM_Mode == MODE_M6800)
   18   1                      LCMIFCFG |= MODE_M6800; // LCM接口模式：M6800
   19   1              else
   20   1                      LCMIFCFG &= ~MODE_M6800; // LCM接口模式：I8080
   21   1      
   22   1              if (LCM->LCM_Bit_Wide == BIT_WIDE_16)
   23   1                      LCMIFCFG |= BIT_WIDE_16; // LCM数据宽度：16位
   24   1              else
   25   1                      LCMIFCFG &= ~BIT_WIDE_16; // LCM数据宽度：8位
   26   1      
   27   1              if (LCM->LCM_Setup_Time <= 7)
   28   1                      LCMIFCFG2 = (LCMIFCFG2 & ~0x1c) | (LCM->LCM_Setup_Time << 2); // LCM通信数据建立时间：0~7
   29   1              if (LCM->LCM_Hold_Time <= 3)
   30   1                      LCMIFCFG2 = (LCMIFCFG2 & ~0x03) | LCM->LCM_Hold_Time; // LCM通信数据建立时间：0~7
   31   1      
   32   1              if (LCM->LCM_Enable == ENABLE)
   33   1                      LCMIFCR |= 0x80; // 使能LCM接口功能
   34   1              else
   35   1                      LCMIFCR &= ~0x80; // 禁止LCM接口功能
   36   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       188     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.

C251 COMPILER V5.60.0,  AI8051U_LCM                                                        18/11/25  13:07:44  PAGE 2   


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
