C251 COMPILER V5.60.0,  main                                                               18/11/25  13:39:08  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\OBJ_Out\main.obj
COMPILER INVOKED BY: D:\MDK\C251\BIN\C251.EXE ..\User\main.c XSMALL OPTIMIZE(6,SPEED) REGFILE(.\OBJ_Out\LQ_STCAI32_LIB.O
                    -RC) BROWSE INCDIR(..\..\libraries\Driver;..\..\libraries\Driver\Inc;..\..\libraries\Include;..\..\libraries\LQ_LIB\Inc;.
                    -.\User;..\code;..\Hardware;..\..\libraries\zf_common;..\..\Libraries\zf_components;..\..\Libraries\zf_device;..\..\Libra
                    -ries\zf_driver) DEFINE(STC32G) DEBUG PRINT(.\OBJ_Out\main.lst) OBJECT(.\OBJ_Out\main.obj) 

stmt  level    source

    1          /*LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
    2           ƽ    ̨ܿƼSTC32λİ
    3               дƼ
    4           E-mail  chiusir@163.com
    5           汾V1.1 ȨУλʹϵȨ
    6           Ϣοеַ
    7               վhttp://www.lqist.cn
    8           Ա̡http://longqiu.taobao.com
    9           --------------------------------------------------------------------------------
   10             IDE   keil C251 V5.60
   11           Target  STC32G/STC8051U/AI8051U 32λģʽ
   12           SYS CLK 42 MHzʹڲ
   13          QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ*/
   14          
   15          
   16          //ʱ, ѡʱƵ "config.h"к궨屣һ Ĭʹ42MƵ
   17          //ʵӦУеʼ궨岻ᱻõΪʡ8051UռԴЧʣԺѡ񽫲
             -Ҫע͵
   18          //Target  STC32G/AI8051U_32Bit 32λģʽлоƬ ڱл
   19          
   20          
   21          #include "include.h"
   22          
   23          
   24          void System_Init(void);         //ϵʼ
   25          
   26          
   27          
   28          /***************************************************************************
   29          *      : void main(void)
   30          *      : 
   31          *      : None.
   32          *      : None.
   33          *      : V1.0, 2024-11-01
   34          ****************************************************************************/
   35          void main(void)
   36          {
   37   1          System_Init();
   38   1          Global_IRQ_Enable();
   39   1          
   40   1      /*
   41   1          CCDȡȻOLEDʾעֵܵ趨
   42   1          ܽѡ: 
   43   1              ADO --->P17
   44   1              SCL --->P15
   45   1              SDA --->P13
   46   1          
   47   1      */
   48   1          Test_CCD();          //PASS, Ժںwhile(1)ѭ
   49   1          
   50   1              while(1)
   51   1              {
   52   2              ;
   53   2              }
   54   1      }
   55          
C251 COMPILER V5.60.0,  main                                                               18/11/25  13:39:08  PAGE 2   

   56          
   57          
   58          
   59          
   60          
   61          
   62          
   63          
   64          
   65          // ʼpllʱ,עʹʱҪӶӦĿ⣬οֲ
   66          void PLL_Init(void)
   67          {
   68   1          
   69   1              USBCLK &= ~0xf0;
   70   1              USBCLK |= 0xd0;     // ׷Ƶ
   71   1              CLKSEL |= 0xc0;     // ʱѡãPLLʱΪʱ
   72   1              TFPU_CLKDIV = 0;
   73   1              DMAIR = 0x3f;           // PLLʱΪTFPUʱӣ0x3e ѡϵͳʱΪTFPUʱ 42*3=126Mhz
   74   1      }
   75          
   76          /***************************************************************************
   77          *      : void main(void)
   78          *      : 
   79          *      : None.
   80          *      : None.
   81          ****************************************************************************/
   82          void System_Init()
   83          {
   84   1              WTST = 0;               //óָʱֵΪ0ɽCPUִָٶΪ
   85   1              EAXSFR();               //չSFR(XFR)Ĵʹ
   86   1              CKCON = 0;      //߷XRAMٶ
   87   1          
   88   1          PLL_Init();
   89   1          P0_MODE_IN_HIZ(GPIO_Pin_All);       // ϵȽIOΪ̬Էֹ⵼¹ܽջ
   90   1          P1_MODE_IN_HIZ(GPIO_Pin_All);
   91   1          P2_MODE_IN_HIZ(GPIO_Pin_All);
   92   1          P3_MODE_IN_HIZ(GPIO_Pin_All);
   93   1          P4_MODE_IN_HIZ(GPIO_Pin_All);
   94   1          P5_MODE_IN_HIZ(GPIO_Pin_All);
   95   1          
   96   1          PNRST=1;   //P47RSTCFG|=1<<4;λĴãSTC32G/FΪP54ֹISPΪI/O´Ҫϵ縴
             -ʹøλʧЧ
   97   1      
   98   1      }
   99          
  100          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       100     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.

C251 COMPILER V5.60.0,  main                                                               18/11/25  13:39:08  PAGE 3   


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
